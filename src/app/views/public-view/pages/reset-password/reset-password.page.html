<app-card
	*ngIf="!requestSent(); else: checkEmail"
	class="w-full max-w-3xl animate__animated animate__fadeInDown"
	title="views.public.pages.reset_password.title"
	subtitle="views.public.pages.reset_password.subtitle">
	<app-form
		*ngIf="token(); else: invalidToken"
		[model]="model()"
		[submitted]="resetPassword"
		[fields]="fields"
		(sent)="hideForm($event)"
		[validators]="validators" />
	<ng-template #invalidToken>
		<app-message
			[closable]="false"
			summary="Votre clé d’identification est manquante."
			details="Merci de re-cliquer sur le lien contenu dans le mail de réinitialisation
    du mot de passe."
			severity="error" />
	</ng-template>
	<ng-template #cardFooter>
		<div class="text-center">
			<app-button
				color="accent"
				href="/login"
				label="core.actions.login.action" />
		</div>
	</ng-template>
</app-card>
<ng-template #checkEmail>
	<p>Email envoyé !</p>
</ng-template>
