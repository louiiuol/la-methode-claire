<app-button
	*ngFor="let lesson of lessons"
	style="scroll-snap-align: start"
	[id]="'course-' + lesson.order"
	class="rounded-full leading-none inline-block"
	[class]="{
		'bg-accent': lesson.order < currentLesson || lesson.order > currentLesson,
		'font-bold': lesson.order === currentLesson,
		'bg-primary': lesson.order === currentLesson,
		'text-white': lesson.order === currentLesson,
		'opacity-60': lesson.order < currentLesson,
		'opacity-30': lesson.order > 2 && !hasValidSubscription,
		'cursor-not-allowed': lesson.order > 2 && !hasValidSubscription
	}"
	type="icon"
	[disabled]="lesson.order > 2 && !hasValidSubscription"
	[matTooltip]="'modules.library.for_sub_only' | translate"
	[matTooltipDisabled]="lesson.order < 3 || hasValidSubscription"
	(click)="setCurrentLesson(lesson.order)">
	<span
		[class]="{
			'text-primary':
				lesson.order < currentLesson || lesson.order > currentLesson,
			'text-accent': lesson.order === currentLesson
		}">
		{{ lesson.order + 1 }}
	</span>
</app-button>
