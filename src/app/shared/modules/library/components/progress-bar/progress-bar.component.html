<app-button
	*ngFor="let lesson of lessons"
	style="scroll-snap-align: start; border: 1px solid currentColor"
	[id]="'course-' + lesson.order"
	class="rounded-full leading-none inline-block bg-texture"
	[style]="
		'color:' +
		(lesson.order === currentLesson ? 'white' : lesson.color) +
		'; background-color:' +
		(lesson.order === currentLesson ? lesson.color : 'transparent')
	"
	[class]="{
		'font-bold': lesson.order === currentLesson,
		'opacity-60': lesson.order < currentLesson,
		'opacity-30': lesson.order > 2 && !hasValidSubscription,
		'cursor-not-allowed': lesson.order > 2 && !hasValidSubscription
	}"
	type="icon"
	[disabled]="lesson.order > 2 && !hasValidSubscription"
	matTooltip="Cette leçon est réservée aux abonnées"
	[matTooltipDisabled]="lesson.order < 3 || hasValidSubscription"
	(click)="setCurrentLesson(lesson.order)"
	[label]="(lesson.order + 1).toFixed()" />
