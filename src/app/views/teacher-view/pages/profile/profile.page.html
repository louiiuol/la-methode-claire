@if (model$ | async; as model) {
<h1 class="mt-4 mb-6 text-2xl text-center text-primary">Profil utilisateur</h1>
<mat-accordion class="block mx-auto max-w-3xl">
	<mat-expansion-panel expanded>
		<mat-expansion-panel-header>
			<mat-panel-title> Informations personnelles </mat-panel-title>
		</mat-expansion-panel-header>
		<app-form
			[model]="model.value"
			action="Mettre à jour"
			[submitted]="updateProfile"
			[fields]="profileFields" />
	</mat-expansion-panel>
	<mat-expansion-panel>
		<mat-expansion-panel-header>
			<mat-panel-title> Mot de passe </mat-panel-title>
		</mat-expansion-panel-header>
		<app-form
			action="Mettre à jour"
			[submitted]="updatePassword"
			[fields]="passwordFields"
			[validators]="passwordValidators" />
	</mat-expansion-panel>
	<mat-expansion-panel>
		<mat-expansion-panel-header>
			<mat-panel-title> Newsletter </mat-panel-title>
		</mat-expansion-panel-header>
		<app-form
			action="Mettre à jour"
			[model]="model.value"
			[submitted]="updateProfile"
			[fields]="newsletterField" />
	</mat-expansion-panel>
	<mat-expansion-panel>
		<mat-expansion-panel-header>
			<mat-panel-title> Fermeture du compte </mat-panel-title>
		</mat-expansion-panel-header>
		<p class="mb-4">
			Si vous le souhaitez, vous pouvez fermer votre compte. Il sera alors
			supprimé dans les 2 mois. <br />
			Si vous souhaitez le rouvrir, il vous suffira de vous reconnecter.
		</p>
		<button
			mat-raised-button
			class="block mx-auto my-3 !w-fit"
			color="warn"
			(click)="closeAccount()">
			Fermer mon compte
		</button>
	</mat-expansion-panel>
</mat-accordion>
} @else {
<app-loader>Chargement de vos informations</app-loader>
}
